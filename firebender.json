{
  "rules": [
    "Project is a scripture memory flutter app which is a mobile front-end for memverse.com",
    "Use riverpod for state management and existing hooks such as useTextEditingController wherever possible",
    "Use techniques from codewithandrea.com",
    "Make sure and localize all user-facing strings in English and Spanish",
    "Try to Get 100% test coverage for widget and integration tests - use //ignore as a last resort",
    "Try to use bdd testing with gherkin with https://pub.dev/packages/bdd_widget_test whenever possible ",
    "Exclude generated code and 'l10n' directory from test coverage similar to flutter test --coverage;lcov --remove coverage/lcov.info 'lib/l10n' '**/*.g.dart' -o coverage/new_lcov.info ;genhtml coverage/new_lcov.info -o coverage/html\n\n",
    "Always run dart format for 100 characters",
    "Please insert all appropriate trailing commas so no lint errors",
    "Always run dart fix --apply before flutter analyze to automatically fix issues",
    "Always make sure tests pass at the end",
    "always remove unused imports",
    "always remove unused local variables",
    "As a rule of thumb - if a widget is over 10 lines long give it its own file",
    "use feature based directory structure",
    "Always run ./scripts/check_before_commit.sh  to ensure all checks pass",
    "if check_before_commit.sh doesn't yet it exist please create it and make it run dart fix --apply before flutter analyze and dart format with 100 character line length and set it up as precommit hook",
    "Always capture all user prompts in AI prompts log files with accurate timestamps",
    "Always check git branch name and create/update AI prompts log files to match branch prefix",
    "For each new branch, create a fresh AI prompts log file with branch prefix (e.g., MEM-76_ai_prompts.log for branch MEM-76-feature-name)",
    "When updating AI prompts log, use system date command to get current timestamp: date '+%Y-%m-%d %I:%M:%S %p'",
    {
      "filePathMatches": "*.feature",
      "rules": [
        "Use gherkin syntax/templates from https://pub.dev/packages/bdd_widget_test ie Then I see {'1'} text"
      ]
    },
    {
      "filePathMatches": "**/*_ai_prompts_and_responses.log",
      "rules": [
        "Name log files following branch naming pattern: if branch is named like 'MEM-44-feature-name', use 'MEM-44_ai_prompts_and_responses.log'",
        "If branch name doesn't match a ticket pattern, use date format like 'April08_2025_ai_prompts_and_responses.log'",
        "When recording user queries and responses, always include accurate timestamps using system time",
        "For each user query, use the format: **User Query** (yyyy-MM-dd HH:mm:ss): [query text]",
        "Calculate and record accurate durations for tasks by using the actual start and end times",
        "When recording timestamps, use `date '+%Y-%m-%d %H:%M:%S'` format for consistency",
        "Ensure total time in summary reflects actual elapsed time between first and last interactions",
        "Capture full text of all user prompts without omissions"
      ]
    },
    {
      "filePathMatches": "**/*_ai_prompts.log",
      "rules": [
        "Name log files following branch naming pattern: if branch is named like 'MEM-59-feature-name', use 'MEM-59_ai_prompts.log'",
        "If branch name doesn't match a ticket pattern, use date format like 'April08_2025_ai_prompts.log'",
        "When creating a new log file, determine if there is already a log file for the current branch",
        "If no log file exists for the current branch, create one using the branch name prefix",
        "For each user query, record the timestamp in the format: **User Query** (yyyy-MM-dd hh:mm:ss AM/PM): [query text]",
        "Use system date command (`date '+%Y-%m-%d %I:%M:%S %p'`) to get accurate timestamps in AM/PM format for each entry",
        "After each user prompt, immediately update the log file with the current timestamp and full prompt text",
        "Calculate and record accurate durations for tasks using the actual start and end times",
        "Include a summary section with total time and key accomplishments",
        "Always capture the complete text of user prompts, including URLs and references",
        "Never truncate or summarize user prompts in log files"
      ]
    }
  ]
}